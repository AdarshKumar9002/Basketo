@use "../abstract/mixins";

// Main navigation container styling
.header__nav {
  position: absolute;
  top: 3.1em;
  left: 0;
  background-color: var(--background-color-002);
  width: 100%;
  max-height: 0;
  overflow: hidden;
  transition: max-height 400ms linear;

  ul {
    padding: 1em;
    // Flex layout for column direction and justify-content: center; align-item: flex-start.
    @include mixins.flex(column, center, flex-start);
  }

  li {
    width: 100%;
    max-width: 100%;
  }

  // Class added by JavaScript to reveal the nav menu
  &.visible {
    max-height: 30em;
  }

  a,
  button {
    color: var(--font-color-003);
    font-weight: 400;
    padding: 0.5em 0;
    font-size: var(--font-size-secondary);
    font-family: var(--font-family-base);
    line-height: 2.8;
  }

  button {
    // Flex layout for row direction and justify-content: space-between; align-item: center.
    @include mixins.flex(row, space-between, center);
    width: 100%;

    &::after {
      content: "";
      display: inline-block;
      position: relative;
      height: 6px;
      width: 6px;
      border-color: var(--font-color-003);
      border-style: solid;
      border-width: 0 2px 2px 0;
      transform: scale(1) translateY(-50%) rotate(45deg);
      transition: transform 0.3s;
    }
  }
}

.header__shop-options {
  max-height: 0em;
  background-color: var(--background-color);
  transition: max-height 400ms linear;
  overflow: hidden;

  // Visible when the .visible class is added by JavaScript
  &.visible {
    max-height: 20em;
  }

  li {
    width: 100%;
    a {
      font-size: var(--font-size-primary);
      color: var(--font-color);
    }
  }
}

// Media Query: screen size 992px;
@include mixins.mediaQuery(lg) {
  .header__nav {
    position: static;
    background: none;
    max-height: 100%;
    width: auto;
    > ul {
      padding: 0;
      flex-direction: row;
      align-items: center;
      gap: 1.5em;
      li {
        width: auto;
        a,
        button {
          color: var(--font-color);
          line-height: normal;
        }
      }
    }
    button {
      justify-content: center;
      gap: 0.6em;
      &::after {
        border-color: var(--font-color);
        transform: scale(1) translateY(-10%) rotate(45deg);
      }
    }
    a:hover,button:hover {
      color: var(--highlight-color);
    }
  }


  .header__shop-options {
    position: absolute;
    background-color: var(--white);
    -webkit-box-shadow: 0 1px 5px 0px rgba(0,0,0,0.2);
    box-shadow: 0 1px 5px 0px rgba(0,0,0,0.2);
  }

}

// // Show .header__shop-options on hover or with an active class (JavaScript controlled)
// &:hover + .header__shop-options {
//   display: flex;
// }
